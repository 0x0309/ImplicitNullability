@using ImplicitNullability.Sample
@using JetBrains.Annotations

@functions{

    [CanBeNull]
    private readonly string _nullString = null;

    private readonly int? _nullableInt = null;

    private string SomeMethod(string a)
    {
        ReSharper.TestValueAnalysis(a, a == null /*Expect:ConditionIsAlwaysTrueOrFalse[MIn]*/);
        return "";
    }

    [CanBeNull]
    private string SomeNullableMethod([CanBeNull] string a, int? b, string optional = null)
    {
        return null;
    }

    private string SomeFunction(out string a)
    {
        a = null; /*Expect:AssignNullToNotNullAttribute[MOut]*/
        return null; /*Expect:AssignNullToNotNullAttribute[MOut]*/
    }

}

@* Write method *@
@null
@_nullString
@_nullableInt

@SomeMethod(null /*Expect:AssignNullToNotNullAttribute[MIn]*/)
@SomeNullableMethod(null, null, optional: null)